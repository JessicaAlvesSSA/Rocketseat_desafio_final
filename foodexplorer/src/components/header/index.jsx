import { useMemo } from "react";
import logo from "../../assets/logo.svg";
import menu from "../../assets/menu.png";
import cart from "../../assets/cart.png";
import "./style.css";
import { Link, useNavigate } from "react-router-dom";
import { LogoAdmin } from "../../utils/constantes";
import { useDishContext } from "../../context";

export function Header() {
  const { admin } = useDishContext();
  const navigate = useNavigate();

  const isOpen = useMemo(
    () => window.location.pathname.includes("menu"),
    [window.location.pathname]
  );

  return (
    <header className={`${admin ? 'admin' : ""}`}>
      {!isOpen ? (
        <>
          <div className="menu-hamburguer">
            <Link to="/menu">
              <img src={menu} alt="menu hamburguer" />
            </Link>
          </div>
          {admin ? (
            <div className="logo-admin">
              {LogoAdmin}
              <svg
                width="33"
                height="10"
                viewBox="0 0 33 10"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4.56445 8.41602V5.15234C4.56445 4.90234 4.51367 4.68555 4.41211 4.50195C4.31445 4.31445 4.16602 4.16992 3.9668 4.06836C3.76758 3.9668 3.52148 3.91602 3.22852 3.91602C2.95508 3.91602 2.71484 3.96289 2.50781 4.05664C2.30469 4.15039 2.14453 4.27344 2.02734 4.42578C1.91406 4.57812 1.85742 4.74219 1.85742 4.91797H0.773438C0.773438 4.69141 0.832031 4.4668 0.949219 4.24414C1.06641 4.02148 1.23438 3.82031 1.45312 3.64062C1.67578 3.45703 1.94141 3.3125 2.25 3.20703C2.5625 3.09766 2.91016 3.04297 3.29297 3.04297C3.75391 3.04297 4.16016 3.12109 4.51172 3.27734C4.86719 3.43359 5.14453 3.66992 5.34375 3.98633C5.54688 4.29883 5.64844 4.69141 5.64844 5.16406V8.11719C5.64844 8.32812 5.66602 8.55273 5.70117 8.79102C5.74023 9.0293 5.79688 9.23438 5.87109 9.40625V9.5H4.74023C4.68555 9.375 4.64258 9.20898 4.61133 9.00195C4.58008 8.79102 4.56445 8.5957 4.56445 8.41602ZM4.75195 5.65625L4.76367 6.41797H3.66797C3.35938 6.41797 3.08398 6.44336 2.8418 6.49414C2.59961 6.54102 2.39648 6.61328 2.23242 6.71094C2.06836 6.80859 1.94336 6.93164 1.85742 7.08008C1.77148 7.22461 1.72852 7.39453 1.72852 7.58984C1.72852 7.78906 1.77344 7.9707 1.86328 8.13477C1.95312 8.29883 2.08789 8.42969 2.26758 8.52734C2.45117 8.62109 2.67578 8.66797 2.94141 8.66797C3.27344 8.66797 3.56641 8.59766 3.82031 8.45703C4.07422 8.31641 4.27539 8.14453 4.42383 7.94141C4.57617 7.73828 4.6582 7.54102 4.66992 7.34961L5.13281 7.87109C5.10547 8.03516 5.03125 8.2168 4.91016 8.41602C4.78906 8.61523 4.62695 8.80664 4.42383 8.99023C4.22461 9.16992 3.98633 9.32031 3.70898 9.44141C3.43555 9.55859 3.12695 9.61719 2.7832 9.61719C2.35352 9.61719 1.97656 9.5332 1.65234 9.36523C1.33203 9.19727 1.08203 8.97266 0.902344 8.69141C0.726562 8.40625 0.638672 8.08789 0.638672 7.73633C0.638672 7.39648 0.705078 7.09766 0.837891 6.83984C0.970703 6.57812 1.16211 6.36133 1.41211 6.18945C1.66211 6.01367 1.96289 5.88086 2.31445 5.79102C2.66602 5.70117 3.05859 5.65625 3.49219 5.65625H4.75195ZM11.3496 8.26953V0.5H12.4395V9.5H11.4434L11.3496 8.26953ZM7.08398 6.40039V6.27734C7.08398 5.79297 7.14258 5.35352 7.25977 4.95898C7.38086 4.56055 7.55078 4.21875 7.76953 3.93359C7.99219 3.64844 8.25586 3.42969 8.56055 3.27734C8.86914 3.12109 9.21289 3.04297 9.5918 3.04297C9.99023 3.04297 10.3379 3.11328 10.6348 3.25391C10.9355 3.39062 11.1895 3.5918 11.3965 3.85742C11.6074 4.11914 11.7734 4.43555 11.8945 4.80664C12.0156 5.17773 12.0996 5.59766 12.1465 6.06641V6.60547C12.1035 7.07031 12.0195 7.48828 11.8945 7.85938C11.7734 8.23047 11.6074 8.54688 11.3965 8.80859C11.1895 9.07031 10.9355 9.27148 10.6348 9.41211C10.334 9.54883 9.98242 9.61719 9.58008 9.61719C9.20898 9.61719 8.86914 9.53711 8.56055 9.37695C8.25586 9.2168 7.99219 8.99219 7.76953 8.70312C7.55078 8.41406 7.38086 8.07422 7.25977 7.68359C7.14258 7.28906 7.08398 6.86133 7.08398 6.40039ZM8.17383 6.27734V6.40039C8.17383 6.7168 8.20508 7.01367 8.26758 7.29102C8.33398 7.56836 8.43555 7.8125 8.57227 8.02344C8.70898 8.23438 8.88281 8.40039 9.09375 8.52148C9.30469 8.63867 9.55664 8.69727 9.84961 8.69727C10.209 8.69727 10.5039 8.62109 10.7344 8.46875C10.9688 8.31641 11.1562 8.11523 11.2969 7.86523C11.4375 7.61523 11.5469 7.34375 11.625 7.05078V5.63867C11.5781 5.42383 11.5098 5.2168 11.4199 5.01758C11.334 4.81445 11.2207 4.63477 11.0801 4.47852C10.9434 4.31836 10.7734 4.19141 10.5703 4.09766C10.3711 4.00391 10.1348 3.95703 9.86133 3.95703C9.56445 3.95703 9.30859 4.01953 9.09375 4.14453C8.88281 4.26562 8.70898 4.43359 8.57227 4.64844C8.43555 4.85938 8.33398 5.10547 8.26758 5.38672C8.20508 5.66406 8.17383 5.96094 8.17383 6.27734ZM15.2051 4.41992V9.5H14.1152V3.16016H15.1465L15.2051 4.41992ZM14.9824 6.08984L14.4785 6.07227C14.4824 5.63867 14.5391 5.23828 14.6484 4.87109C14.7578 4.5 14.9199 4.17773 15.1348 3.9043C15.3496 3.63086 15.6172 3.41992 15.9375 3.27148C16.2578 3.11914 16.6289 3.04297 17.0508 3.04297C17.3477 3.04297 17.6211 3.08594 17.8711 3.17188C18.1211 3.25391 18.3379 3.38477 18.5215 3.56445C18.7051 3.74414 18.8477 3.97461 18.9492 4.25586C19.0508 4.53711 19.1016 4.87695 19.1016 5.27539V9.5H18.0176V5.32812C18.0176 4.99609 17.9609 4.73047 17.8477 4.53125C17.7383 4.33203 17.582 4.1875 17.3789 4.09766C17.1758 4.00391 16.9375 3.95703 16.6641 3.95703C16.3438 3.95703 16.0762 4.01367 15.8613 4.12695C15.6465 4.24023 15.4746 4.39648 15.3457 4.5957C15.2168 4.79492 15.123 5.02344 15.0645 5.28125C15.0098 5.53516 14.9824 5.80469 14.9824 6.08984ZM19.0898 5.49219L18.3633 5.71484C18.3672 5.36719 18.4238 5.0332 18.5332 4.71289C18.6465 4.39258 18.8086 4.10742 19.0195 3.85742C19.2344 3.60742 19.498 3.41016 19.8105 3.26562C20.123 3.11719 20.4805 3.04297 20.8828 3.04297C21.2227 3.04297 21.5234 3.08789 21.7852 3.17773C22.0508 3.26758 22.2734 3.40625 22.4531 3.59375C22.6367 3.77734 22.7754 4.01367 22.8691 4.30273C22.9629 4.5918 23.0098 4.93555 23.0098 5.33398V9.5H21.9199V5.32227C21.9199 4.9668 21.8633 4.69141 21.75 4.49609C21.6406 4.29688 21.4844 4.1582 21.2812 4.08008C21.082 3.99805 20.8438 3.95703 20.5664 3.95703C20.3281 3.95703 20.1172 3.99805 19.9336 4.08008C19.75 4.16211 19.5957 4.27539 19.4707 4.41992C19.3457 4.56055 19.25 4.72266 19.1836 4.90625C19.1211 5.08984 19.0898 5.28516 19.0898 5.49219ZM25.8281 3.16016V9.5H24.7383V3.16016H25.8281ZM24.6562 1.47852C24.6562 1.30273 24.709 1.1543 24.8145 1.0332C24.9238 0.912109 25.084 0.851562 25.2949 0.851562C25.502 0.851562 25.6602 0.912109 25.7695 1.0332C25.8828 1.1543 25.9395 1.30273 25.9395 1.47852C25.9395 1.64648 25.8828 1.79102 25.7695 1.91211C25.6602 2.0293 25.502 2.08789 25.2949 2.08789C25.084 2.08789 24.9238 2.0293 24.8145 1.91211C24.709 1.79102 24.6562 1.64648 24.6562 1.47852ZM28.6523 4.51367V9.5H27.5684V3.16016H28.5938L28.6523 4.51367ZM28.3945 6.08984L27.9434 6.07227C27.9473 5.63867 28.0117 5.23828 28.1367 4.87109C28.2617 4.5 28.4375 4.17773 28.6641 3.9043C28.8906 3.63086 29.1602 3.41992 29.4727 3.27148C29.7891 3.11914 30.1387 3.04297 30.5215 3.04297C30.834 3.04297 31.1152 3.08594 31.3652 3.17188C31.6152 3.25391 31.8281 3.38672 32.0039 3.57031C32.1836 3.75391 32.3203 3.99219 32.4141 4.28516C32.5078 4.57422 32.5547 4.92773 32.5547 5.3457V9.5H31.4648V5.33398C31.4648 5.00195 31.416 4.73633 31.3184 4.53711C31.2207 4.33398 31.0781 4.1875 30.8906 4.09766C30.7031 4.00391 30.4727 3.95703 30.1992 3.95703C29.9297 3.95703 29.6836 4.01367 29.4609 4.12695C29.2422 4.24023 29.0527 4.39648 28.8926 4.5957C28.7363 4.79492 28.6133 5.02344 28.5234 5.28125C28.4375 5.53516 28.3945 5.80469 28.3945 6.08984Z"
                  fill="#82F3FF"
                />
              </svg>
            </div>
          ) : (
            <>
              <img src={logo} alt="logo food explorer" />
              <a>
                <img src={cart} alt="acessar itens no carrinho" />
              </a>
            </>
          )}
        </>
      ) : (
        <>
          <div className="menu-open">
            <Link to="/home">
              <svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M0.263604 0.263604C0.615076 -0.0878679 1.18492 -0.0878679 1.5364 0.263604L9 7.72721L16.4636 0.263604C16.8151 -0.0878679 17.3849 -0.0878679 17.7364 0.263604C18.0879 0.615076 18.0879 1.18492 17.7364 1.5364L10.2728 9L17.7364 16.4636C18.0879 16.8151 18.0879 17.3849 17.7364 17.7364C17.3849 18.0879 16.8151 18.0879 16.4636 17.7364L9 10.2728L1.5364 17.7364C1.18492 18.0879 0.615076 18.0879 0.263604 17.7364C-0.0878679 17.3849 -0.0878679 16.8151 0.263604 16.4636L7.72721 9L0.263604 1.5364C-0.0878679 1.18492 -0.0878679 0.615076 0.263604 0.263604Z"
                  fill="white"
                />
              </svg>
            </Link>
            <h2>Menu</h2>
          </div>
        </>
      )}
    </header>
  );
}
